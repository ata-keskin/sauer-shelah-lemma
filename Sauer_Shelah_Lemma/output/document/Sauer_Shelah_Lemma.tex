%
\begin{isabellebody}%
\setisabellecontext{Sauer{\isacharunderscore}{\kern0pt}Shelah{\isacharunderscore}{\kern0pt}Lemma}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Sauer-Shelah Lemma%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Sauer{\isacharunderscore}{\kern0pt}Shelah{\isacharunderscore}{\kern0pt}Lemma\isanewline
\ \ \isakeyword{imports}\ Main\ Shattering\ Card{\isacharunderscore}{\kern0pt}Lemmas\ Binomial{\isacharunderscore}{\kern0pt}Lemmas\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Generalized Sauer-Shelah Lemma%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
To prove the Sauer-Shelah Lemma, we will first prove a slightly stronger fact that every family
      \isa{F} shatters at least as many sets as \isa{card\ F}. We first fix an element \isa{x\ {\isasymin}\ {\isasymUnion}\ F}
      and consider the subfamily \isa{F{\isadigit{0}}} of sets in the family not containing it. By induction \isa{F{\isadigit{0}}} 
      shatters at least as many elements of \isa{F} as \isa{card\ F{\isadigit{0}}}. 
      Next we consider the subfamily \isa{F{\isadigit{1}}} of sets in the family that contain \isa{x}.
      Again, by induction \isa{F{\isadigit{1}}} shatters as many elements of \isa{F} as its cardinality. 
      The number of elements of \isa{F} shattered by \isa{F{\isadigit{0}}} and \isa{F{\isadigit{1}}} sum up to at least 
      \isa{card\ F{\isadigit{0}}\ {\isacharplus}{\kern0pt}\ card\ F{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ card\ F}. When a set \isa{S\ {\isasymin}\ F} is shattered by only one of the two subfamilies, say \isa{F{\isadigit{0}}}, 
      it contributes one unit to the set \isa{shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{0}}} and to \isa{shattered{\isacharunderscore}{\kern0pt}by\ F}. However when the set is shattered by 
      both subfamilies, both \isa{S} and \isa{S\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}} are in \isa{shattered{\isacharunderscore}{\kern0pt}by\ F}, so \isa{S} contributes two units
      to \isa{shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{1}}}. Therefore, the cardinality of \isa{shattered{\isacharunderscore}{\kern0pt}by\ F} 
      is at least equal to the cardinality of \isa{shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{1}}}, which is at least \isa{card\ F}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ F\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ F{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ card\ F\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ F\ rule{\isacharcolon}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}rule{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}card{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}less\ F{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}F\ {\isacharequal}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}UnionD{\isacharbrackleft}{\kern0pt}OF\ less{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}shF\ {\isacharequal}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by{\isacharbrackleft}{\kern0pt}OF\ less{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ card\ F{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ obtain{\isacharunderscore}{\kern0pt}difference{\isacharunderscore}{\kern0pt}element{\isacharbrackleft}{\kern0pt}OF\ True{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Union{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isasymUnion}F{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Int{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ {\isasymInter}F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast%
\begin{isamarkuptext}%
Define F0 as the subfamily of F containing sets that don't contain \isa{x}.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}S\ {\isasymin}\ F{\isachardot}{\kern0pt}\ x\ {\isasymnotin}\ S{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Union{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}psubset{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymsubset}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}psubset{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymsubseteq}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by{\isacharbrackleft}{\kern0pt}OF\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ shF{\isadigit{0}}{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}shF{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}F{\isadigit{0}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymUnion}\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymsubseteq}\ {\isasymUnion}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast%
\begin{isamarkuptext}%
F0 shatters at least as many sets as \isa{card\ F{\isadigit{0}}} by the induction hypothesis%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH{\isacharunderscore}{\kern0pt}F{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ less{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}F\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}psubset{\isacharunderscore}{\kern0pt}F{\isacharbrackright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ less{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Un{\isacharunderscore}{\kern0pt}F{\isadigit{0}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}F{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}%
\begin{isamarkuptext}%
Define F1 as the subfamily of F containing sets that contain \isa{x}%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}S\ {\isasymin}\ F{\isachardot}{\kern0pt}\ x\ {\isasymin}\ S{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Int{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}psubset{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasymsubset}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}psubset{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasymsubseteq}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by{\isacharbrackleft}{\kern0pt}OF\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ shF{\isadigit{1}}{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}shF{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymUnion}\ {\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasymsubseteq}\ {\isasymUnion}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast%
\begin{isamarkuptext}%
F1 shatters at least as many sets as \isa{card\ F{\isadigit{1}}} by the induction hypothesis%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH{\isacharunderscore}{\kern0pt}F{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ less{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}F\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}psubset{\isacharunderscore}{\kern0pt}F{\isacharbrackright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ less{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Un{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}F{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ shF{\isadigit{0}}{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}shF\ shF{\isadigit{1}}{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}shF\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp%
\begin{isamarkuptext}%
There is a set with the same cardinality as the intersection of 
        \isa{shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{0}}} and \isa{shattered{\isacharunderscore}{\kern0pt}by\ F{\isadigit{1}}} which is disjoint from their union, 
        which is also contained in \isa{shattered{\isacharunderscore}{\kern0pt}by\ F}.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}copies{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}intersection{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}shattered{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}S{\isasymin}{\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymnotin}\ S{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\begin{isamarkuptext}%
This set is precisely the image of the intersection under \isa{insert\ x}.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}insert\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharquery}{\kern0pt}f\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ X\ Y\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymin}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isasymin}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}f\ X\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}f\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}shattered\ x{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}f\ X\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}f\ Y\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}shattered\ y{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
%
\begin{isamarkuptext}%
The set is disjoint from the union.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ S\ \isakeyword{where}\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymin}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isadigit{1}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymin}\ {\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}shattered\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymnotin}\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
%
\begin{isamarkuptext}%
This set is also in \isa{shattered{\isacharunderscore}{\kern0pt}by\ F}.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ S{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isacharunderscore}{\kern0pt}x\ {\isasymin}\ {\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ S\ \isakeyword{where}\ {\isadigit{2}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymin}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isadigit{2}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymin}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isadigit{2}}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isacharunderscore}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}f\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}shattered\ {\isadigit{2}}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{2}}\ Pow{\isacharunderscore}{\kern0pt}insert{\isacharbrackleft}{\kern0pt}of\ x\ S{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Pow\ S{\isacharunderscore}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ Pow\ S\ {\isasymunion}\ {\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ Pow\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ Pow\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ insert{\isacharunderscore}{\kern0pt}IntF{\isacharbrackleft}{\kern0pt}of\ x\ S\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharunderscore}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharunderscore}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharunderscore}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}IntF{\isacharbrackleft}{\kern0pt}OF\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}\ of\ S{\isacharunderscore}{\kern0pt}x{\isacharbrackright}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}IntF{\isacharbrackleft}{\kern0pt}OF\ F{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}\ of\ S{\isacharunderscore}{\kern0pt}x{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}F\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharunderscore}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Pow\ S{\isacharunderscore}{\kern0pt}x\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}F\ {\isasyminter}{\isacharasterisk}{\kern0pt}\ S{\isacharunderscore}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isacharunderscore}{\kern0pt}x\ {\isasymin}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharquery}{\kern0pt}f\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymunion}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharquery}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasymunion}\ {\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}F\ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}F{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}F{\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\ finite{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}F{\isadigit{0}}{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isasyminter}\ {\isacharquery}{\kern0pt}F{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\begin{isamarkuptext}%
Thus we have the following lower bound on the cardinality of \isa{shattered{\isacharunderscore}{\kern0pt}by\ F}%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ F{\isadigit{0}}{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}F\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}F{\isadigit{0}}\ finite{\isacharunderscore}{\kern0pt}F{\isadigit{1}}\ disjoint{\isacharunderscore}{\kern0pt}F{\isadigit{0}}{\isacharunderscore}{\kern0pt}F{\isadigit{1}}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ F\ {\isacharequal}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}F{\isadigit{0}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ IH{\isacharunderscore}{\kern0pt}F{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ IH{\isacharunderscore}{\kern0pt}F{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ {\isacharquery}{\kern0pt}F{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Int{\isacharunderscore}{\kern0pt}copy{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}shF\ shattered{\isacharunderscore}{\kern0pt}subset\ f{\isacharunderscore}{\kern0pt}copies{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}intersection{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
%
\begin{isamarkuptext}%
If \isa{F} contains less than 2 sets, the statement follows trivially%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ F\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymor}\ card\ F\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ F\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ F\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ F{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}F\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ shatters{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ F{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ shattered{\isacharunderscore}{\kern0pt}by\ F{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}shF\ this{\isacharbrackright}{\kern0pt}\ asm\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Sauer-Shelah Lemma%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The generalized version immediately implies the Sauer–Shelah Lemma,
      because only \isa{{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ n\ choose\ i{\isacharparenright}{\kern0pt}} of the subsets of an \isa{n}-item universe have cardinality less than \isa{k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}}.
      Thus, when \isa{{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ F}, there are not enough sets to be shattered, 
      so one of the shattered sets must have cardinality at least \isa{k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{corollary}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ F\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}S{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}F\ shatters\ S\ {\isasymand}\ card\ S\ {\isacharequal}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}K\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}S{\isachardot}{\kern0pt}\ S\ {\isasymsubseteq}\ {\isasymUnion}F\ {\isasymand}\ card\ S\ {\isasymle}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Pow{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ F{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Pow{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}Pow\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ k{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}K\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}Pow{\isacharunderscore}{\kern0pt}Un{\isacharbrackright}{\kern0pt}\ this{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ S\ \isakeyword{where}\ {\isachardoublequoteopen}S\ {\isasymin}\ shattered{\isacharunderscore}{\kern0pt}by\ F\ {\isacharminus}{\kern0pt}\ {\isacharquery}{\kern0pt}K{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ F{\isacharunderscore}{\kern0pt}shatters{\isacharunderscore}{\kern0pt}S{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}F\ shatters\ S{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ {\isasymUnion}F{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}S\ {\isasymsubseteq}\ {\isasymUnion}F\ {\isasymand}\ card\ S\ {\isasymle}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}S{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}k{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isasymle}\ card\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ obtain{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}n{\isacharbrackleft}{\kern0pt}OF\ card{\isacharunderscore}{\kern0pt}S{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}k{\isacharbrackright}{\kern0pt}\ \isacommand{obtain}\isamarkupfalse%
\ S{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}card\ S{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}S{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ supset{\isacharunderscore}{\kern0pt}shatters{\isacharbrackleft}{\kern0pt}OF\ this{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ F{\isacharunderscore}{\kern0pt}shatters{\isacharunderscore}{\kern0pt}S{\isacharbrackright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Sauer-Shelah Lemma for hypergraphs%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{corollary}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ X\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ set{\isachardoublequoteclose}\ \isakeyword{and}\ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Pow\ S{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ S\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}Y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ shatters\ Y\ {\isasymand}\ card\ Y\ {\isacharequal}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}X\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ choose{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}X{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ S\ choose\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isadigit{0}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Alternative statement of the Sauer-Shelah Lemma%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
We can also state the Sauer–Shelah Lemma in terms of the \isa{VC{\isacharunderscore}{\kern0pt}dim}. If the VC dimension of \isa{F} is \isa{k}, then \isa{F}
      can consist at most of \isa{{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}} sets, which is in \isa{{\isasymO}{\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}k{\isacharparenright}{\kern0pt}}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{corollary}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharunderscore}{\kern0pt}alt{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}VC{\isacharunderscore}{\kern0pt}dim\ F\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ F\ {\isasymle}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ card\ F\ {\isasymle}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}k{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}F{\isacharparenright}{\kern0pt}\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ sauer{\isacharunderscore}{\kern0pt}shelah{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ this{\isacharbrackright}{\kern0pt}\ \isacommand{obtain}\isamarkupfalse%
\ S\ \isakeyword{where}\ {\isachardoublequoteopen}F\ shatters\ S{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}card\ S\ {\isacharequal}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ this{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}card\ S\ {\isacharbar}{\kern0pt}\ S{\isachardot}{\kern0pt}\ F\ shatters\ S{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cSup{\isacharunderscore}{\kern0pt}upper{\isacharbrackleft}{\kern0pt}OF\ this\ bdd{\isacharunderscore}{\kern0pt}above{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}shattered{\isacharunderscore}{\kern0pt}by{\isacharbrackleft}{\kern0pt}unfolded\ shattered{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ VC{\isacharunderscore}{\kern0pt}dim{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Sauer_Shelah_Lemma.tex%:%
%:%11=5%:%
%:%27=7%:%
%:%28=7%:%
%:%29=8%:%
%:%30=9%:%
%:%44=11%:%
%:%56=13%:%
%:%57=14%:%
%:%58=15%:%
%:%59=16%:%
%:%60=17%:%
%:%61=18%:%
%:%62=19%:%
%:%63=20%:%
%:%64=21%:%
%:%65=22%:%
%:%66=23%:%
%:%67=24%:%
%:%69=26%:%
%:%70=26%:%
%:%71=27%:%
%:%72=28%:%
%:%79=29%:%
%:%80=29%:%
%:%81=30%:%
%:%82=30%:%
%:%83=31%:%
%:%84=31%:%
%:%85=32%:%
%:%86=32%:%
%:%87=33%:%
%:%88=33%:%
%:%89=34%:%
%:%90=34%:%
%:%91=35%:%
%:%92=35%:%
%:%93=36%:%
%:%94=36%:%
%:%95=37%:%
%:%96=37%:%
%:%97=38%:%
%:%98=38%:%
%:%100=40%:%
%:%102=41%:%
%:%103=41%:%
%:%104=42%:%
%:%105=42%:%
%:%106=42%:%
%:%107=42%:%
%:%108=43%:%
%:%109=43%:%
%:%110=43%:%
%:%111=43%:%
%:%112=44%:%
%:%113=44%:%
%:%114=44%:%
%:%115=44%:%
%:%116=45%:%
%:%117=45%:%
%:%118=45%:%
%:%119=45%:%
%:%121=47%:%
%:%123=48%:%
%:%124=48%:%
%:%126=50%:%
%:%128=51%:%
%:%129=51%:%
%:%130=52%:%
%:%131=52%:%
%:%132=52%:%
%:%133=52%:%
%:%134=53%:%
%:%135=53%:%
%:%136=53%:%
%:%137=53%:%
%:%138=54%:%
%:%139=54%:%
%:%140=54%:%
%:%141=54%:%
%:%142=55%:%
%:%143=55%:%
%:%144=55%:%
%:%145=55%:%
%:%147=57%:%
%:%149=58%:%
%:%150=58%:%
%:%151=59%:%
%:%152=60%:%
%:%153=60%:%
%:%154=61%:%
%:%155=61%:%
%:%156=61%:%
%:%158=63%:%
%:%159=64%:%
%:%160=65%:%
%:%162=66%:%
%:%163=66%:%
%:%164=67%:%
%:%166=69%:%
%:%167=70%:%
%:%168=70%:%
%:%169=71%:%
%:%170=71%:%
%:%171=71%:%
%:%172=71%:%
%:%174=73%:%
%:%176=74%:%
%:%177=74%:%
%:%178=75%:%
%:%179=75%:%
%:%180=76%:%
%:%181=76%:%
%:%182=77%:%
%:%183=77%:%
%:%184=78%:%
%:%185=78%:%
%:%186=79%:%
%:%187=80%:%
%:%188=80%:%
%:%189=80%:%
%:%190=80%:%
%:%191=81%:%
%:%192=81%:%
%:%193=81%:%
%:%194=81%:%
%:%195=81%:%
%:%196=82%:%
%:%197=82%:%
%:%198=82%:%
%:%199=82%:%
%:%200=82%:%
%:%201=83%:%
%:%202=83%:%
%:%203=83%:%
%:%204=83%:%
%:%205=84%:%
%:%208=86%:%
%:%210=87%:%
%:%211=87%:%
%:%212=88%:%
%:%213=88%:%
%:%214=89%:%
%:%215=89%:%
%:%216=90%:%
%:%217=90%:%
%:%218=90%:%
%:%219=91%:%
%:%220=91%:%
%:%221=92%:%
%:%222=92%:%
%:%223=92%:%
%:%224=92%:%
%:%225=93%:%
%:%226=93%:%
%:%227=93%:%
%:%228=93%:%
%:%229=94%:%
%:%232=96%:%
%:%234=97%:%
%:%235=97%:%
%:%236=98%:%
%:%237=98%:%
%:%238=99%:%
%:%239=99%:%
%:%240=100%:%
%:%241=100%:%
%:%242=101%:%
%:%243=101%:%
%:%244=101%:%
%:%245=102%:%
%:%246=103%:%
%:%247=103%:%
%:%248=104%:%
%:%249=104%:%
%:%250=104%:%
%:%251=104%:%
%:%252=105%:%
%:%253=106%:%
%:%254=106%:%
%:%255=106%:%
%:%256=106%:%
%:%257=107%:%
%:%258=107%:%
%:%259=107%:%
%:%260=107%:%
%:%261=107%:%
%:%262=107%:%
%:%263=108%:%
%:%264=108%:%
%:%265=108%:%
%:%266=108%:%
%:%267=108%:%
%:%268=108%:%
%:%269=109%:%
%:%270=109%:%
%:%271=109%:%
%:%272=109%:%
%:%273=109%:%
%:%274=110%:%
%:%275=110%:%
%:%276=110%:%
%:%277=110%:%
%:%278=110%:%
%:%279=111%:%
%:%280=111%:%
%:%281=111%:%
%:%282=111%:%
%:%283=111%:%
%:%284=112%:%
%:%285=112%:%
%:%286=112%:%
%:%287=112%:%
%:%288=112%:%
%:%289=113%:%
%:%290=113%:%
%:%291=113%:%
%:%292=113%:%
%:%293=114%:%
%:%294=114%:%
%:%295=114%:%
%:%296=114%:%
%:%297=115%:%
%:%298=115%:%
%:%299=116%:%
%:%300=117%:%
%:%301=117%:%
%:%302=117%:%
%:%304=119%:%
%:%305=119%:%
%:%306=120%:%
%:%307=120%:%
%:%308=121%:%
%:%309=122%:%
%:%310=122%:%
%:%311=122%:%
%:%312=123%:%
%:%313=123%:%
%:%314=123%:%
%:%315=123%:%
%:%316=124%:%
%:%317=124%:%
%:%318=124%:%
%:%320=126%:%
%:%322=127%:%
%:%323=127%:%
%:%324=128%:%
%:%325=128%:%
%:%326=128%:%
%:%327=129%:%
%:%328=129%:%
%:%329=129%:%
%:%330=130%:%
%:%331=130%:%
%:%332=130%:%
%:%333=131%:%
%:%334=131%:%
%:%335=131%:%
%:%336=132%:%
%:%337=132%:%
%:%338=132%:%
%:%339=133%:%
%:%340=133%:%
%:%341=133%:%
%:%342=134%:%
%:%343=134%:%
%:%344=134%:%
%:%345=135%:%
%:%346=135%:%
%:%347=135%:%
%:%348=135%:%
%:%349=136%:%
%:%352=137%:%
%:%354=138%:%
%:%355=138%:%
%:%356=139%:%
%:%357=139%:%
%:%358=139%:%
%:%359=140%:%
%:%360=140%:%
%:%361=141%:%
%:%362=141%:%
%:%363=142%:%
%:%364=142%:%
%:%365=143%:%
%:%366=143%:%
%:%367=143%:%
%:%368=144%:%
%:%369=144%:%
%:%370=145%:%
%:%371=145%:%
%:%372=146%:%
%:%373=146%:%
%:%374=146%:%
%:%375=147%:%
%:%376=147%:%
%:%377=147%:%
%:%378=147%:%
%:%379=147%:%
%:%380=148%:%
%:%381=148%:%
%:%382=148%:%
%:%383=148%:%
%:%384=149%:%
%:%385=149%:%
%:%386=150%:%
%:%387=150%:%
%:%388=151%:%
%:%403=153%:%
%:%415=155%:%
%:%416=156%:%
%:%417=157%:%
%:%418=158%:%
%:%420=160%:%
%:%421=160%:%
%:%422=161%:%
%:%423=162%:%
%:%424=163%:%
%:%431=164%:%
%:%432=164%:%
%:%433=165%:%
%:%434=165%:%
%:%435=166%:%
%:%436=166%:%
%:%437=166%:%
%:%438=166%:%
%:%439=167%:%
%:%440=168%:%
%:%441=168%:%
%:%442=168%:%
%:%443=168%:%
%:%444=169%:%
%:%445=169%:%
%:%446=169%:%
%:%447=169%:%
%:%448=170%:%
%:%449=171%:%
%:%450=171%:%
%:%451=172%:%
%:%452=172%:%
%:%453=172%:%
%:%454=173%:%
%:%455=173%:%
%:%456=173%:%
%:%457=173%:%
%:%458=173%:%
%:%459=174%:%
%:%460=174%:%
%:%461=174%:%
%:%462=174%:%
%:%463=175%:%
%:%464=175%:%
%:%465=175%:%
%:%466=175%:%
%:%467=176%:%
%:%468=176%:%
%:%469=176%:%
%:%470=176%:%
%:%471=177%:%
%:%486=179%:%
%:%496=180%:%
%:%497=180%:%
%:%498=181%:%
%:%499=182%:%
%:%500=183%:%
%:%507=184%:%
%:%508=184%:%
%:%509=185%:%
%:%510=185%:%
%:%511=185%:%
%:%512=185%:%
%:%513=186%:%
%:%514=186%:%
%:%515=186%:%
%:%516=186%:%
%:%517=187%:%
%:%518=187%:%
%:%519=187%:%
%:%520=187%:%
%:%521=188%:%
%:%536=190%:%
%:%548=192%:%
%:%549=193%:%
%:%551=195%:%
%:%552=195%:%
%:%553=196%:%
%:%554=197%:%
%:%561=198%:%
%:%562=198%:%
%:%563=199%:%
%:%564=199%:%
%:%565=199%:%
%:%566=199%:%
%:%567=200%:%
%:%568=200%:%
%:%569=200%:%
%:%570=200%:%
%:%571=201%:%
%:%572=201%:%
%:%573=201%:%
%:%574=201%:%
%:%575=202%:%
%:%576=202%:%
%:%577=203%:%
%:%578=203%:%
%:%579=203%:%
%:%580=204%:%
%:%586=204%:%
%:%591=205%:%
%:%596=206%:%
